version: '3.4'

services:
    app:
    image: basilisco/flask
    container_name: app
    ports: 
        - 8080:80
    depends_on: 
        - db
    environment:
        MONGO_COLLECTION: news
        MONGO_URI: '127.0.0.1'
        MONGO_DATABASE: content
        MONGO_PORT: 27017
        


    db:
        image: mongo:4.0.8
        container_name: db
        environment: 
            MONGO_INITDB_ROOT_USERNAME: admin
            MONGO_INITDB_ROOT_PASSWORD: admin123
            MONGO_INITDB_DATABASE: content
        volumes: 
            - mongodbdata:/data/db